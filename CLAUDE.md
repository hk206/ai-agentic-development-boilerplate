# プロジェクト概要

AI支援によるプロダクト開発ライフサイクル全体をカバーするClaude Codeボイラープレート。
プロダクトマネジメント → デザイン → 開発 → QA を一貫してエージェント・スキルで実行できる。

## 初期セットアップ（必須）

このボイラープレートを使い始める際、以下の連携が完了しているか確認すること。
未完了の場合は、ユーザーに案内してセットアップを完了させる。

### 1. GitHub 連携
- `.claude/settings.local.json` に `GITHUB_PERSONAL_ACCESS_TOKEN` が設定されていること
- `gh auth status` でログイン済みであること

### 2. Notion 連携
- Claude Code で `/mcp` コマンドを実行し、Notion MCP の OAuth 認証を完了すること
- プロジェクト用の Notion ページを用意する:
  - ユーザーが既存の空ページの URL を指定する、**または**
  - Notion MCP を使って新規プロジェクトページを自動作成する
- プロジェクトページ配下に以下のサブページ/データベースを作成する:
  - 「要件定義」ページ（PRD 用）
  - 「バックログ」データベース（ユーザーストーリー用）
  - 「スプリント」データベース（タスク用）
  - 「バグトラッカー」データベース（バグレポート用）

## 技術スタック

- **フロントエンド**: Next.js (App Router), TypeScript, Tailwind CSS
- **バックエンド**: TypeScript, ドメイン駆動設計（DDD）
- **テスト**: Vitest（ユニット/統合）, Playwright（E2E）
- **外部サービス**: Notion（プロジェクト管理/ドキュメント）, GitHub（コード/PR/Issues）

## 言語ルール

- エージェント・スキル指示: 日本語
- コード内の変数名・コメント: 英語
- ドキュメント出力: 日本語

## 基本方針

- 既存のコードパターンに従う
- 変更前にテストを書く（TDD推奨）
- PRは小さく保つ
- コミットメッセージはConventional Commitsに従う
- `any` 型の使用は禁止
- データベースが必要になった場合、実装前にユーザーに以下を確認すること:
  - **外部データベース接続**: PostgreSQL等の外部DBを使用する予定がある場合
  - **プロトタイプ開発**: テスト的に素早く開発したい場合はSQLiteを使用する

## よく使うコマンド

- `npm run dev` — 開発サーバー起動
- `npm run build` — ビルド
- `npm run test` — テスト実行
- `npm run lint` — リント実行
- `npm run type-check` — 型チェック

## エージェント一覧

| エージェント | 用途 |
|---|---|
| `product-manager` | プロダクト企画・構想、PRD作成、ユーザーストーリー、タスク分解、Notion連携 |
| `designer` | UI/UX仕様書、コンポーネント設計、アクセシビリティ |
| `code-reviewer` | コード品質・セキュリティレビュー（読み取り専用） |
| `debugger` | バグ調査、パフォーマンス最適化、リファクタリング |
| `qa-engineer` | テスト作成、バグレポート、カバレッジ分析 |

## スキル一覧

| スキル | 用途 |
|---|---|
| `/ideate-product` | プロダクト/サービスの企画・構想（市場分析、ビジネスモデル、MVP仮説） |
| `/create-prd` | PRD（プロダクト要件定義書）作成 |
| `/create-user-stories` | ユーザーストーリー作成 |
| `/breakdown-tasks` | タスク分解・スプリント計画 |
| `/sync-notion` | ドキュメントのNotion同期 |
| `/design-component` | UIコンポーネント設計仕様書作成 |
| `/plan-architecture` | アーキテクチャ設計 |
| `/review-pr` | PRレビュー |
| `/write-tests` | テスト作成 |
| `/create-bug-report` | バグレポート作成 |

## エージェントチーム運用ガイド

エージェントチーム（複数のClaude Codeインスタンスの並列協働）が有効になっている。
以下の場合にチーム編成を**提案**すること:

### チームが有効なケース
- **プロダクト企画**: PM（企画）+ デザイナー（UX視点）+ 技術（実現可能性）で多角的に検討
- **新機能の設計〜実装**: PM（要件整理）+ 設計（アーキテクチャ）+ 実装（コーディング）を並列実行
- **コードレビュー**: セキュリティ・パフォーマンス・テストカバレッジなど異なる観点で同時レビュー
- **バグ調査**: 複数の仮説を並列で検証し、互いに反証し合う
- **大規模リファクタリング**: 異なるモジュールを別々のチームメンバーが担当

### チームを使わないケース
- 単一ファイルの修正や小さなバグ修正
- 順序依存の強いタスク（前の結果がないと次に進めない）
- 同じファイルを複数人が編集する必要がある場合

### チーム編成の原則
- チームメンバーには `.claude/agents/` のエージェントの役割を参考に明確な責務を与える
- 1チームメンバーあたり5〜6個のタスクを目安にする
- ファイルの競合を避けるため、各メンバーが担当するファイル群を分ける
- リーダーは実装せず調整に徹する（デリゲートモード推奨）

## ルール

@.claude/rules/coding-standards.md
@.claude/rules/git-workflow.md
@.claude/rules/project-structure.md
